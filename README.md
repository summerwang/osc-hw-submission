# Submit Homework to OSC Systems

It is used by professor to 
1. Create designated directory where students submit their homework
2. Generate `submit` for students to submit homework to OSC

## Configuration (by OSC Staff)

Run `create_submit_forPI.sh` to create `/fs/scratch/xwang/bin/submit_prepare` and `/fs/scratch/xwang/bin/submit.C` as:

```sh
$ /fs/scratch/xwang/submit_hw/create_submit_forPI.sh
```

You can take a quick look at ```create_submit_forPI.sh```:

```sh
$ cd /fs/scratch/xwang/submit_hw
$ cat create_submit_forPI.sh
```

Notice it calls within the script the following scripts: `homework_submission.C`,
`homework_submission.sh`, and `submit.C`. These are all located in `/fs/scratch/xwang/submit_hw`.

| file                    | description                                                            |
| ------------------------| -----------------------------------------------------------------------|
| `homework_submission.C` | call `homework_submission.sh` to generate `submit_prepare`             |
| `homework_submission.sh`| **main** code                                                          |
| `submit.C`              | call `submit.sh` generated by `submit_prepare` to generate `submit`      |

## Smoke Test (by OSC Staff)

Run `test_create_submit.sh` as:

```sh
$ /fs/scratch/xwang/submit_hw/test_create_submit.sh
```
No error output if all tests pass. 

## Usage for Professor
After connect to OSC system, professor runs the `submit_prepare` as

```
$ /fs/scratch/xwang/bin/submit_prepare
```

Follow the instructions. It will create designated directory where students submit their homework, as well as generate `submit` for students used to submit homework to OSC , both of which are located in the directory specified by the professor. 

**Note**:

The PI can also enforce deadlines by simply change the permission of the subdirectories or rename the subdirectories at the deadline. Use `at` command the following commands:



Where TIME is formatted HH:MM AM/PM MM/DD/YY
For example: 2:30 PM 10/21/2014
After running this command, run:

```sh
$ chmod 700 [DIRECTORY]
``` 
Where `DIRECTORY` is the assignment folder to be closed off Finally enter [ctrl+D] to submit this command.

## Usage for Students

After connect to OSC system, student runs the `submit` as

```
$ /path/to/directory/from/professor/submit
```
Follow the instructions. It will allow students to submit homework to designated directory speficifed by professor and send a confirmation email, or return error message. 
