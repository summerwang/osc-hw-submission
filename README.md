# Submit Homework to OSC Systems

It is used by professor to 
1. Create designated directory where students submit their assignments
2. Generate `submit` for students to submit assignment to designated directory created by professor

## Configuration (by OSC Staff)

Run `create_submit_forPI.sh` to create `/fs/scratch/xwang/bin/submit_prepare` and `/fs/scratch/xwang/bin/submit.C` as:

```sh
$ /fs/scratch/xwang/submit_hw/create_submit_forPI.sh
```

You can take a quick look at ```create_submit_forPI.sh```:

```sh
$ cd /fs/scratch/xwang/submit_hw
$ cat create_submit_forPI.sh
```

Notice it calls within the script the following scripts: `homework_submission.C`,
`homework_submission.sh`, and `submit.C`. These are all located in `/fs/scratch/xwang/submit_hw`.

| file                    | description                                                            |
| ------------------------| -----------------------------------------------------------------------|
| `homework_submission.C` | call `homework_submission.sh` to generate `submit_prepare`             |
| `homework_submission.sh`| **main** code                                                          |
| `submit.C`              | call `submit.sh` generated by `submit_prepare` to generate `submit`      |

## Smoke Testing (by OSC Staff)

It also includes a smoke test script named `test_create_submit.sh` in `/fs/scratch/xwang/submit_hw`. Run `test_create_submit.sh` as:

```sh
$ /fs/scratch/xwang/submit_hw/test_create_submit.sh
```
No error output if all basic tests pass. 

## Usage for Professor
After connect to OSC system, professor runs `submit_prepare` as

```
$ /fs/scratch/xwang/bin/submit_prepare
```

Follow the instructions. It will create designated directory where students submit their homework, as well as generate `submit` for students used to submit homework to OSC , both of which are located in the directory specified by the professor. 

**Note**:

The PI can also enforce deadline by simply changing the permission of the submission directory or renaming the submission directory at the deadline. One way is to use `at` command following the steps below:

Step 1: use `at` command to specify the deadline: 

```
at [TIME]
```

where TIME is formatted HH:MM AM/PM MM/DD/YY. For example: 

```
at 2:30 PM 10/21/2018
```

Step 2: after running this command, run:

```sh
$ chmod 700 [DIRECTORY]
``` 

where `DIRECTORY` is the assignment folder to be closed off.

Step 3: finally enter [ctrl+D] to submit this command. Then the permission of `DIRECTORY` will be changed to **700** at 2:30PM, Oct 21, 2018. After that, student will get an error message when he/she tries to submit assignment to this directory.  

## Usage for Students

After connect to OSC system, student runs `submit` as

```
$ /path/to/directory/from/professor/submit
```
Follow the instructions. It will allow students to submit an assignment to designated directory speficifed by professor and send a confirmation email, or return error message. 
